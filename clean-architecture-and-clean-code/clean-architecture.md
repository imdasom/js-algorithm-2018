# 클린아키텍쳐 circle의 이해
![claen-architecture-blog-post](https://blog.cleancoder.com/uncle-bob/images/2012-08-13-the-clean-architecture/CleanArchitecture.jpg)

### Entity
`Entity Layer`는 `Enterprise Wide(엔터프라이즈 영역을 넓게 수용)`한 비즈니스룰을 포함해야 한다. (여기서 엔터프라이즈란 대규모 사업을 의미하며, 하나의 서비스가 다양한 어플리케이션으로 구성되어 있는 환경을 의미하는 것 같다.) `Entity`는 함수, 객체, 데이터의 집합이다. `Entity`는 다양한 `Application layer`에서 사용된다. 만약 대규모 어플리케이션의 집합이 아닌 단순한 어플리케이션이라도 상관없다ㅏ. `Entity`는 그 어플리케이션에서 사용되는 비즈니스룰이 될 것이다.

`Entity`는 가장 일반적이면서 고차원적인 비즈니스룰을 캡슐화해야 한다. 또한 외부의 변경에 영향을 받으면 안된다. 이를테면, 화면상의 페이지 네비게이션 처리라든지 보안상의 문제말이다. 모든 어플리케이션의 변경이 아닌, 일부 어플리케이션의 변경은 `Entity Layer`에 영향을 주면 안된다.

### Use Case
`Usecase Layer`는 `Application Specific`한 비즈니스룰을 구현해야 한다. 시스템의 모든 유즈케이스를 캡슐화하고 구현한다. `Usecase Layer`는 `Entity`와의 데이터 흐름을 조율하고 `Enterprise Wide`한 비즈니스를을 사용하여 동작을 수행하도록 한다.

이 레이어는 다음의 변경에 영향을 받으면 안된다. `Entity Layer`, UI, 데이터베이스 등

반면, 이 레이어에 영향을 주는 영역도 존재한다. 어플리케이션의 동작으로 인해 유즈케이스가 변경된다면 `Usecase Layer`도 영향을 받는다. 유즈케이스 세부사항이 변경된다면 이 레이어의 코드도 영향을 받게 될 것이다.

### Interface Adapter
`Interface Adapter Layer`영역의 소프트웨어는 데이터를 변환하는 아답터의 집합이다. 이 레이어는 `유즈케이스`와 `엔티티`에 특화된 포맷의 데이터를 --> `데이터베이스`나 `웹`등에 특화된 데이터포맷으로 변환해주는 역할을 한다. 예를 들면, GUI의 MVC아키텍쳐가 이 레이어를 완전히 포함하고 있다고 할 수 있다. `Presenter`, `View`, `Controller`가 모두 이 레이어에 포함된다. (일반적으로 `model`은 단순히 데이터구조일 뿐이므로 `Presenter`로 표현하는 듯하다)

유사하게, 이 레이어는 `유즈케이스`와 `엔티티`에 특화된 포맷에서 `persistence framwork`를 무얼 사용해도 편리한 포맷으로 변환하는 역할을 한다. 이 영역의 코드는 데이터베이스에 관해 알고 있으면 안된다. 만약 SQL 데이터베이스를 사용한다면 이 레이어의 코드에서는 SQL문을 직접 사용하고 있으면 안된다.   

또한 이 레이어는 다른 아답터를 포함할 수 있다. 예를 들면 3rd party 서비스를 사용하기 위한 포맷에서 내부의 `유즈케이스`나 `엔티티`에서 사용할 수 있는 포맷으로 변경하는 아답터 등이다.
